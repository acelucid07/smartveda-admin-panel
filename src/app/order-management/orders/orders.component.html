<app-header (toggleSidebar)="onToggleSidebar($event)"></app-header>
<div class="body bcard" [ngClass]="sidebarSpacing">
    <div class="page-heading">
        <h1 class="header-text-title" style="margin-left: 1%;">Orders</h1>
    </div>
    <mat-tab-group mat-align-tabs="start">
        <mat-tab label="All">
            <div class="card col-sm-12" style="border:none;">
                <p-table id="customerTable" #dt [value]="orderData" [columns]="cols" responsiveLayout="scroll"
                    [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [responsive]="true"
                    [globalFilterFields]="['orderId', 'customerId']" styleClass="p-datatable-striped">

                    <ng-template pTemplate="caption">
                        <div class="row">
                            <span class="p-input-icon-right ml-5">
                                <i class="pi pi-search"></i>
                                <input pInputText type="text" placeholder="Search by OrderId or customerId"
                                    (input)="applyFilterGlobal($event, 'contains')" />
                            </span>
                            <span class="p-input-icon-right ml-5">
                                <button pButton type="button" label="Create New Order" class="p-button-success"
                                    [routerLink]="['/order/createOrder']"></button>
                            </span>
                        </div>
                    </ng-template>

                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th>S.No</th>
                            <th *ngFor="let col of columns">{{col.headers}}</th>
                            <th>Options</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-i="rowIndex" let-order>
                        <tr>
                            <td>{{i+1}}</td>
                            <td>{{order.orderId}}</td>
                            <td>{{order.orderNo}}</td>
                            <td>{{order.orderDate}}</td>
                            <td>{{order.customerId}}</td>
                            <td>{{order.paymentStatus}}</td>
                            <td>{{order.paymentType}}</td>
                            <td>{{order.total}}</td>
                            <td>{{order.deliveryStatus}}</td>
                            <td>{{order.deliveryType}}</td>
                            <td>{{order.country}}</td>
                            <td>
                                <!-- <button class="p-button-warning" pButton type="button" icon="pi pi-user-edit" pTooltip="Edit Customer" tooltipPosition="bottom" style="margin-right:5px"></button> -->
                                <button class="p-button-danger" pButton type="button" icon="pi pi-trash"
                                    pTooltip="Delete Customer" tooltipPosition="bottom"
                                    (click)="deleteOrder(order?.orderId)"></button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
                <ngx-ui-loader [fgsColor]="'#000000'" [fgsType]="fgsType"></ngx-ui-loader>
            </div>
        </mat-tab>
        <mat-tab label="Delivered">
            <app-delivered-order></app-delivered-order>
        </mat-tab>
        <mat-tab label="Cancelled">
            <app-cancel-order></app-cancel-order>
        </mat-tab>
        <mat-tab label="Confirmed Order">
            <app-confirmed-order></app-confirmed-order>
        </mat-tab>
    </mat-tab-group>

</div>