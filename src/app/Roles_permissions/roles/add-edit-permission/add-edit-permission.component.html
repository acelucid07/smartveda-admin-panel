
<form [formGroup]="permissionForm"><div class="my-2">
    <!-- <div class="d-flex justify-content-between"> -->
    <h4>Add User with Permission</h4>
    <!-- <button class="btn btn-info">Back</button> -->
    <!-- </div> -->
    <div class="row mt-4">
    <div class="form-group col-8 d-flex justify-content-start align-items-center">
        <label for="username" class="col-form-label-lg col-2 pl-0 mb-0 ml-3">Username:</label>
        <input id='username' type="text" class="form-control col-3" formControlName="username">
    </div>
    </div>
</div>
<div>
<p-table #dt responsiveLayout="scroll" [paginator]="false" [rows]="10"
[showCurrentPageReport]="true" [value]="permissionData"
currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [responsive]="true"
styleClass="p-datatable-striped" [globalFilterFields]="['username']" rowGroupMode="rowspan"
groupRowsBy="moduleName"
sortField="moduleName"
sortMode="single">
    <ng-template pTemplate="caption">
        
        <!-- <div class="d-flex justify-content-between"> -->
            <h5>Permission</h5>
            <!-- <button class="btn btn-info">Submit</button> -->
        <!-- </div> -->
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th class="text-center">Module Name</th>
            <th class="text-center">Sub Module name</th>
            <th class="text-center">Permission</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-data let-rowgroup="rowgroup" let-rowspan="rowspan">
        <tr>
            <td *ngIf="rowgroup" [attr.rowspan]="rowspan">
                <span class="p-text-bold p-ml-2">
                {{data.moduleName}}</span>
              </td>
              <td>{{data.subModuleName}}</td>
              <td>
                <div [formGroupName]="data.nameForForm" class="d-flex justify-content-center">
                    <div class="d-flex flex-column mr-3 " style="width: 50px;"><label for="add">Add</label><input id="add" type="checkbox" formControlName="add"></div>
                    <div class="d-flex flex-column  mr-3 "  style="width: 50px;"><label for="edit">Edit</label><input id="edit" type="checkbox" formControlName="edit"></div>
                    <div class="d-flex flex-column mr-3 "  style="width: 50px;"><label for="view">View</label><input id="view" type="checkbox" formControlName="view"></div>
                    <div class="d-flex flex-column  "  style="width: 50px;"><label for="delete">Delete</label><input id="delete" type="checkbox" formControlName="delete"></div>
                </div>
              </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr><td colspan="12" class="text-danger">No records to show</td></tr>
    </ng-template>
    <!-- <ng-template pTemplate="summary">
       
    </ng-template> -->
    
</p-table>
<div class="d-flex justify-content-end mt-4" >
    <button class="btn btn-info mr-3" (click)="submit()" [disabled]="!permissionForm.valid">Submit</button>
    <button class="btn btn-info">Cancel</button>
</div>
</div>
</form>
