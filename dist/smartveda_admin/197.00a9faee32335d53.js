"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[197],{6197:(j,h,a)=>{a.r(h),a.d(h,{BundleModule:()=>$});var f=a(9808),v=a(5115),u=a(1083),s=a(3075),t=a(5e3),p=a(9135),g=a(8441),m=a(7650),c=a(9224);let T=(()=>{class n{constructor(e,o,r,l,d){this.activateRoute=e,this.bundleService=o,this.ngxLoader=r,this.route=l,this.toastr=d,this.title=" ",this.editMode=!1,this.firstname=new s.NI}ngOnInit(){this.sidebarSpacing="contracted"}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}submitForm(){this.ngxLoader.start(),console.log(this.firstname.value),this.addCategory()}addCategory(){this.bundleService.addBundle({categoryName:this.firstname.value}).subscribe(e=>{e&&(this.toastr.showSuccess("Bundle added successfully","Bundle Added"),this.ngxLoader.stop(),this.route.navigate(["/bundle/bundlelist"]))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(p._),t.Y36(g.LA),t.Y36(u.F0),t.Y36(m.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-bundle"]],decls:19,vars:1,consts:[[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12",2,"background-color","#cccfcd","height","100vh"],[1,"card-body"],[1,"page-heading"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group","pt-3"],["for","image"],["type","text",1,"form-control",3,"formControl"],["align","end"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"form"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"mat-card"),t.TgZ(6,"mat-card-title"),t.TgZ(7,"div",4),t.TgZ(8,"h6"),t._uU(9,"Add New Bundle"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",1),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"label",7),t._uU(14,"Input Bundle Name"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"mat-card-actions",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.submitForm()}),t._uU(18," Submit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(15),t.Q6J("formControl",o.firstname))},directives:[s._Y,s.JL,s.F,c.a8,c.n5,s.Fj,s.JJ,s.oH,c.hq],styles:[""]}),n})();var A=a(6365);let y=(()=>{class n{constructor(e,o,r,l,d){this.toastr=e,this.ngxLoader=o,this.route=r,this.bundleService=l,this.csvConvert=d}ngOnInit(){this.sidebarSpacing="contracted"}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}csvInputChange(e){"text/csv"!=e.target.files[0].type?this.toastr.showError("file uploaded is not CSV","Error occured"):this.csvConvert.parse(e.target.files[0],{header:!0,skipEmptyLines:!0,complete:o=>{this.arrayFile=o.data,console.log("Parsed: ",o.data)}})}Submit(){this.ngxLoader.start(),console.log(this.arrayFile);let o=this.arrayFile.map(r=>(console.log(r),new Promise((l,d)=>{this.bundleService.addInfluencersByCsv(r).subscribe(b=>{b&&l(b)})})));Promise.all(o).then(r=>{r&&(console.log(r),this.bundleService.addInfluencersDetails().subscribe(l=>{console.log(l),l&&(this.toastr.showSuccess("Influencers added successfully","Influencers Added"),this.ngxLoader.stop(),this.route.navigate(["/bundle/bundlelist"]))}))}),console.log(this.arrayFile)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.$),t.Y36(g.LA),t.Y36(u.F0),t.Y36(p._),t.Y36(A.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-influencer-csv"]],decls:20,vars:0,consts:[[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12",2,"background-color","#cccfcd","height","100vh"],[1,"card-body"],[1,"page-heading"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group","pt-5"],["hidden","true","type","file","onclick","this.value=null","accept",".csv",3,"change"],["csvInput",""],["mat-flat-button","","color","primary",3,"click"],["align","end"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"form"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"mat-card"),t.TgZ(6,"mat-card-title"),t.TgZ(7,"div",4),t.TgZ(8,"h6"),t._uU(9,"Upload Influencers CSV File"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",1),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"input",7,8),t.NdJ("change",function(d){return o.csvInputChange(d)}),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return t.CHM(r),t.MAs(14).click()}),t._uU(16,"Choose Spreadsheet File (CSV)"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"mat-card-actions",10),t.TgZ(18,"button",11),t.NdJ("click",function(){return o.Submit()}),t._uU(19," Submit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}},directives:[s._Y,s.JL,s.F,c.a8,c.n5,c.hq],styles:[""]}),n})(),C=(()=>{class n{constructor(e,o,r,l,d){this.bundleService=e,this.activateRoute=o,this.ngxLoader=r,this.route=l,this.toastr=d}ngOnInit(){this.sidebarSpacing="contracted",this.activateRoute.queryParamMap.subscribe(e=>{this.bundleName=e.get("categoryName")})}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}OnChangesEvent(e){this.image=e.target.files[0],console.log(e.target.files);var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=r=>{this.URL=r.target.result,console.log(r.target.result)}}submitImage(){this.ngxLoader.start(),this.addImage()}addImage(){this.bundleService.uploadImage(this.image,this.bundleName).subscribe(e=>{e&&(this.toastr.showSuccess("Image added successfully","Image Added"),this.ngxLoader.stop(),this.route.navigate(["/bundle/bundlelist"]))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p._),t.Y36(u.gz),t.Y36(g.LA),t.Y36(u.F0),t.Y36(m.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-image"]],decls:17,vars:0,consts:[[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12",2,"background-color","#cccfcd","height","100vh"],[1,"card-body"],[1,"page-heading"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group","pt-4"],["type","File",1,"form-control",3,"change"],["align","end"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"form"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"mat-card"),t.TgZ(6,"mat-card-title"),t.TgZ(7,"div",4),t.TgZ(8,"h6"),t._uU(9,"Upload Image In Bundle"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",1),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"input",7),t.NdJ("change",function(l){return o.OnChangesEvent(l)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"mat-card-actions",8),t.TgZ(15,"button",9),t.NdJ("click",function(){return o.submitImage()}),t._uU(16," Submit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},directives:[s._Y,s.JL,s.F,c.a8,c.n5,c.hq],styles:[""]}),n})();var q=a(4851),_=a(9783),x=a(1424),L=a(845),I=a(4119);const S=["dt"],B=function(){return["/bundle/createbundle"]};function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"span",11),t._UZ(2,"i",12),t.TgZ(3,"input",13),t.NdJ("input",function(r){return t.CHM(e),t.oxw().applyFilterGlobal(r,"contains")}),t.qZA(),t.qZA(),t.TgZ(4,"span",11),t._UZ(5,"button",14),t.qZA(),t.qZA()}2&n&&(t.xp6(5),t.Q6J("routerLink",t.DdM(1,B)))}function U(n,i){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.headers)}}function N(n,i){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,U,2,1,"th",15),t.TgZ(2,"th"),t._uU(3,"Options"),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}const Y=function(){return["/bundle/addinfluencers"]},Z=function(n){return{categoryName:n}},w=function(){return["/bundle/uploadimage"]},J=function(n){return{id:n}},P=function(){return["/bundle/addinfluencers_csv"]};function k(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"img",16),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div",17),t._UZ(11,"button",18),t._UZ(12,"button",19),t._UZ(13,"button",20),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e._id),t.xp6(2),t.Oqu(e.categoryName),t.xp6(2),t.MGl("src","http://13.234.29.72:4000/uploads/",e.image,"",t.LSH),t.xp6(2),t.Oqu(e.basketInfluencersCount),t.xp6(3),t.Q6J("routerLink",t.DdM(10,Y))("queryParams",t.VKq(11,Z,null==e?null:e.categoryName)),t.xp6(1),t.Q6J("routerLink",t.DdM(13,w))("queryParams",t.VKq(14,Z,null==e?null:e.categoryName)),t.xp6(1),t.Q6J("queryParams",t.VKq(16,J,null==e?null:e._id))("routerLink",t.DdM(18,P))}}function M(n,i){1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",21),t._uU(2," No Records Found. "),t.qZA(),t.qZA())}function R(n,i){1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",22),t._uU(2," No Records Found. "),t.qZA(),t.qZA())}const O=function(){return["categoryName"]},E=[{path:"createbundle",component:T},{path:"uploadimage",component:C},{path:"bundlelist",component:(()=>{class n{constructor(e,o,r){this.ngxLoader=e,this.BundleService=o,this.toastr=r,this.categoryList=[]}ngOnInit(){this.fgsType=g.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="contracted",this.cols=[{field:"_id",show:!0,headers:"Id"},{field:"categoryName",show:!0,headers:"Category Name"},{field:"image",show:!0,headers:"Image"},{field:"basketInfluencersCount",show:!0,headers:"Influencers Count"}],this.getCategoryList()}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}getCategoryList(){this.BundleService.getBundleList().subscribe(e=>{this.categoryList=e,console.log(this.categoryList),this.ngxLoader.stop()})}applyFilterGlobal(e,o){this.dt.filterGlobal(e.target.value,o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.LA),t.Y36(p._),t.Y36(m.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bundle-list"]],viewQuery:function(e,o){if(1&e&&t.Gf(S,5),2&e){let r;t.iGM(r=t.CRH())&&(o.dt=r.first)}},decls:12,vars:10,consts:[[1,"page-heading"],[1,"header-text-title",2,"margin-left","1%"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],[1,"row"],[1,"p-input-icon-right","ml-5"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword","placeholder","Search by bundle name",3,"input"],["pButton","","type","button","label","Create Bundle",1,"p-button-success",3,"routerLink"],[4,"ngFor","ngForOf"],[2,"width","50px","height","50px",3,"src"],["id","btn-grp",1,"btn-grp"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Add Influencers","tooltipPosition","bottom",1,"p-button-warning",2,"margin-right","5px",3,"routerLink","queryParams"],["pButton","","type","button","icon","pi pi-image","pTooltip","Upload Image","tooltipPosition","bottom",1,"p-button-info",2,"margin-right","5px",3,"routerLink","queryParams"],["pButton","","type","button","icon","pi pi-id-card","pTooltip","Add Influencers using csv","tooltipPosition","bottom",1,"p-button-secondary",2,"margin-right","5px",3,"queryParams","routerLink"],["colspan","6",1,"text-center","text-danger","font-weight-700"],["colspan","10",1,"text-center","text-danger","font-weight-700"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Bundle"),t.qZA(),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"p-table",3,4),t.YNc(6,F,6,2,"ng-template",5),t.YNc(7,N,4,1,"ng-template",6),t.YNc(8,k,14,19,"ng-template",7),t.YNc(9,M,3,0,"ng-template",8),t.YNc(10,R,3,0,"ng-template",8),t.qZA(),t._UZ(11,"ngx-ui-loader",9),t.qZA()),2&e&&(t.xp6(4),t.Q6J("columns",o.cols)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("value",o.categoryList)("responsive",!0)("globalFilterFields",t.DdM(9,O)),t.xp6(7),t.Q6J("fgsColor","#000000")("fgsType",o.fgsType))},directives:[q.iA,_.jx,x.o,L.Hq,u.rH,f.sg,I.u,g.Eo],styles:["th[_ngcontent-%COMP%]{background-color:#285d91!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:center!important;font-size:200!important}.btn-grp[_ngcontent-%COMP%]{display:flex}"]}),n})()},{path:"addinfluencers_csv",component:y},{path:"addinfluencers",component:(()=>{class n{constructor(e,o,r,l,d){this.activateRoute=e,this.bundleService=o,this.ngxLoader=r,this.route=l,this.toastr=d,this.title=" ",this.editMode=!1,this.firstname=new s.NI}ngOnInit(){this.sidebarSpacing="contracted",this.activateRoute.queryParamMap.subscribe(e=>{this.bundleName=e.get("categoryName")})}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}submitForm(){this.ngxLoader.start(),console.log(this.firstname.value),this.addCategory()}addCategory(){this.bundleService.addInfluencers({username:this.firstname.value,categoryName:this.bundleName}).subscribe(e=>{e&&(this.toastr.showSuccess("Influencer added successfully","Influencer Added"),this.ngxLoader.stop(),this.route.navigate(["/bundle/bundlelist"]))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(p._),t.Y36(g.LA),t.Y36(u.F0),t.Y36(m.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-influencer"]],decls:19,vars:1,consts:[[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12",2,"background-color","#cccfcd","height","100vh"],[1,"card-body"],[1,"page-heading"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group","pt-3"],["for","image"],["type","text",1,"form-control",3,"formControl"],["align","end"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"form"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"mat-card"),t.TgZ(6,"mat-card-title"),t.TgZ(7,"div",4),t.TgZ(8,"h6"),t._uU(9,"Add Influencer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",1),t.TgZ(11,"div",5),t.TgZ(12,"div",6),t.TgZ(13,"label",7),t._uU(14,"Input Influencer Name"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"mat-card-actions",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.submitForm()}),t._uU(18," Submit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(15),t.Q6J("formControl",o.firstname))},directives:[s._Y,s.JL,s.F,c.a8,c.n5,s.Fj,s.JJ,s.oH,c.hq],styles:[""]}),n})()}];let Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(E)]]}),n})();var H=a(986);let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[v.m,Q,f.ez,c.QW,H.O,g.Js]]}),n})()}}]);