"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[307],{8307:(Ut,Z,c)=>{c.r(Z),c.d(Z,{UserModule:()=>Ot});var u=c(9808),Q=c(5115),C=c(9224),P=c(986),d=c(8441),m=c(1083),p=c(3075),e=c(5e3),h=c(520),g=c(9646);c(2340);let y=[{id:1,name:"Shivam",email:"shivam@gmail.com",phone:"9486621211",role:"vendor",status:!0},{id:2,name:"Robin",email:"robin@gmail.com",phone:"9452621211",role:"admin",status:!0},{id:3,name:"Vipin",email:"vipin@gmail.com",phone:"9451621213",role:"admin",status:!0},{id:4,name:"Chandan",email:"chandan@gmail.com",phone:"9452629911",role:"vendor",status:!0},{id:5,name:"Akash",email:"Akash@gmail.com",phone:"9455387211",role:"admin",status:!0},{id:6,name:"Suraj",email:"suraj@gmail.com",phone:"9452621244",role:"retailer",status:!0},{id:7,name:"Anurag",email:"anurag@gmail.com",phone:"9452622456",role:"retailer",status:!0}],M=[{queryid:1123,user:"Shivam",appliedDate:"2022-02-24",resolvedDate:"20222-02-28",status:"resolved",requestorName:"druv",requestorEmail:"dhruv23@gmail.com",content:"shdvashdasjdasd dhsadvsd dsvdbsdc ds djsvbdc sdhsd dsjccnbdc kdsjcksd jckdncdm cjdckscnd jcksdsgdsffye vjek deiujsj "},{queryid:1125,user:"Vipin",appliedDate:"2023-02-04",resolvedDate:"Null",status:"pending",requestorName:"apsara",requestorEmail:"aspara372736@gmail.com",content:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Temporibus nam optio nisi rem saepe expedita dolores natus, adipisci maxime dicta dolorum sunt vero laudantium quas aut maiores architecto corporis incidunt!"},{queryid:1127,user:"Robin",appliedDate:"2022-07-13",resolvedDate:"2022-07-15",status:"resolved",requestorName:"Gokul",requestorEmail:"goku67@yahoo.com",content:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Temporibus nam optio nisi rem saepe expedita dolores natus, adipisci maxime dicta dolorum sunt vero laudantium quas aut maiores architecto corporis incidunt!"},{queryid:1129,user:"Chandan",appliedDate:"2022-09-13",resolvedDate:"2022-09-25",status:"resolved",requestorName:"Gopi",requestorEmail:"gopi83@hotmail.com",content:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Temporibus nam optio nisi rem saepe expedita dolores natus, adipisci maxime dicta dolorum sunt vero laudantium quas aut maiores architecto corporis incidunt!"},{queryid:1130,user:"Robin",appliedDate:"2022-07-13",resolvedDate:"Null",status:"pending",requestorName:"Sadashiv",requestorEmail:"shiv108@yahoo.com",content:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Temporibus nam optio nisi rem saepe expedita dolores natus, adipisci maxime dicta dolorum sunt vero laudantium quas aut maiores architecto corporis incidunt!"},{queryid:1131,user:"Shivam",appliedDate:"2022-02-24",resolvedDate:"Null",status:"pending",requestorName:"Yojna",requestorEmail:"princessYojo@gmail.com",content:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Temporibus nam optio nisi rem saepe expedita dolores natus, adipisci maxime dicta dolorum sunt vero laudantium quas aut maiores architecto corporis incidunt!"}],T=(()=>{class i{constructor(t){this.http=t}getUserList(){const t=localStorage.getItem("token")||"";return(new h.WM).set("x-access-token",t),(0,g.of)(y)}deleteUser(t){const n=localStorage.getItem("token")||"";(new h.WM).set("x-access-token",n);let l=y.map(a=>(a.id==t&&(a.status=!1),a));return(0,g.of)(l)}retrieveUser(t){const n=localStorage.getItem("token")||"";(new h.WM).set("x-access-token",n);let l=y.map(a=>(a.id==t&&(a.status=!0),a));return(0,g.of)(l)}getQueryList(){const t=localStorage.getItem("token")||"";return(new h.WM).set("x-access-token",t),(0,g.of)(M)}resolveQuery(t){const n=localStorage.getItem("token")||"";(new h.WM).set("x-access-token",n);let l=M.map(a=>{let _=(new Date).toISOString();return console.log(_.split("T")[0]),a.queryid==t&&(a.status="resolved",a.resolvedDate=_.split("T")[0]),a});return(0,g.of)(l)}revertQuery(t){const n=localStorage.getItem("token")||"";(new h.WM).set("x-access-token",n);let l=M.map(a=>(a.queryid==t&&(a.status="pending",a.resolvedDate="Null"),a));return(0,g.of)(l)}addUser(t){const n=localStorage.getItem("token")||"";return(new h.WM).set("x-access-token",n),t.status=!0,y.push(t),(0,g.of)(y)}editUser(t){const n=localStorage.getItem("token")||"";return(new h.WM).set("x-access-token",n),y.map(l=>{l.id==t.id&&(l.name=t.name,l.email=t.email,l.phone=t.phone,l.role=t.role)}),(0,g.of)(y)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(h.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var I=c(7650),N=c(4036);function z(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",18),e._uU(2," username is required "),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.userForm.controls.username.errors.required)}}function V(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",18),e._uU(2," entered email is not valid "),e.qZA(),e.TgZ(3,"div",18),e._uU(4," emailname is required "),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.userForm.controls.emailname.errors.pattern),e.xp6(2),e.Q6J("hidden",!t.userForm.controls.emailname.errors.required)}}function $(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",18),e._uU(2," maxlength exceeded "),e.qZA(),e.TgZ(3,"div",18),e._uU(4," minlength required is 10 "),e.qZA(),e.TgZ(5,"div",18),e._uU(6," phonenumber is required "),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.userForm.controls.phonenumber.errors.maxlength),e.xp6(2),e.Q6J("hidden",!t.userForm.controls.phonenumber.errors.minlength),e.xp6(2),e.Q6J("hidden",!t.userForm.controls.phonenumber.errors.required)}}function J(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",18),e._uU(2," role is required "),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("hidden",!t.userForm.controls.roleassigned.errors.required)}}let j=(()=>{class i{constructor(t,n,s,o,l,a){this.activateRoute=t,this.fb=n,this.ngxLoader=s,this.UserService=o,this.toastr=l,this.route=a,this.userList=[],this.id="",this.editMode=!1,this.userForm=this.fb.group({username:["",[p.kI.required]],emailname:["",[p.kI.required,p.kI.pattern(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],phonenumber:["",[p.kI.required,p.kI.minLength(10),p.kI.maxLength(10)]],roleassigned:["",[p.kI.required]]}),this.roles=["admin","vendor","retailer"]}ngOnInit(){this.fgsType=d.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="contracted",this.activateRoute.queryParamMap.subscribe(t=>{this.id=t.get("userid"),this.id&&null!=this.id?(this.editMode=!0,this.title="Edit User"):(this.editMode=!1,this.title="Add New User"),this.getUserlist()})}getUserlist(){this.UserService.getUserList().subscribe(t=>{this.userList=t,this.editMode&&1==this.userList[parseInt(this.id)-1].status&&this.userForm.patchValue({username:this.userList[parseInt(this.id)-1].name,emailname:this.userList[parseInt(this.id)-1].email,phonenumber:this.userList[parseInt(this.id)-1].phone,roleassigned:this.userList[parseInt(this.id)-1].role})})}submitForm(){this.ngxLoader.start(),console.log(this.payload),this.editMode&&1==this.userList[parseInt(this.id)-1].status?(this.payload={id:this.id,name:this.userForm.controls.username.value,email:this.userForm.controls.emailname.value,phone:this.userForm.controls.phonenumber.value,role:this.userForm.controls.roleassigned.value},this.editUser()):(this.payload={id:this.userList.length+1,name:this.userForm.controls.username.value,email:this.userForm.controls.emailname.value,phone:this.userForm.controls.phonenumber.value,role:this.userForm.controls.roleassigned.value},this.addUser())}addUser(){console.log(this.payload),this.UserService.addUser(this.payload).subscribe(t=>{t&&(this.toastr.showSuccess("User added successfully","Added User"),this.ngxLoader.stop(),this.route.navigate(["/user/userlist"]))})}editUser(){this.UserService.editUser(this.payload).subscribe(t=>{t&&(this.toastr.showSuccess("User edited successfully","Edited User"),this.ngxLoader.stop(),this.route.navigate(["/user/userlist"]))})}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(p.qu),e.Y36(d.LA),e.Y36(T),e.Y36(I.$),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-edit-user"]],decls:38,vars:8,consts:[[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12",2,"background-color","#cccfcd","height","100%"],["novalidate","",3,"formGroup"],[1,"card-body"],[1,"page-heading"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group","pt-3"],["for","user"],["type","text","id","user","formControlName","username",1,"form-control"],[4,"ngIf"],["for","email"],["type","text","id","email","formControlName","emailname",1,"form-control"],["for","phone"],["type","text","id","phone","formControlName","phonenumber",1,"form-control"],["for","role",2,"display","block"],["id","role","formControlName","roleassigned","placeholder","Select a Role",3,"options"],["type","submit",1,"btn","btn-info",3,"disabled","click"],[2,"color","rgb(253, 122, 122)",3,"hidden"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e.TgZ(4,"div",4),e.TgZ(5,"mat-card"),e.TgZ(6,"mat-card-title"),e.TgZ(7,"div",5),e.TgZ(8,"h6"),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",1),e.TgZ(11,"div",6),e.TgZ(12,"div",7),e.TgZ(13,"label",8),e._uU(14,"Username"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,z,3,1,"div",10),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"div",7),e.TgZ(19,"label",11),e._uU(20,"Email Name"),e.qZA(),e._UZ(21,"input",12),e.YNc(22,V,5,2,"div",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",1),e.TgZ(24,"div",6),e.TgZ(25,"div",7),e.TgZ(26,"label",13),e._uU(27,"Phone Number"),e.qZA(),e._UZ(28,"input",14),e.YNc(29,$,7,3,"div",10),e.qZA(),e.qZA(),e.TgZ(30,"div",6),e.TgZ(31,"div",7),e.TgZ(32,"label",15),e._uU(33,"Role"),e.qZA(),e._UZ(34,"p-dropdown",16),e.YNc(35,J,3,1,"div",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"button",17),e.NdJ("click",function(){return n.submitForm()}),e._uU(37," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.userForm),e.xp6(6),e.Oqu(n.title),e.xp6(7),e.Q6J("ngIf",!n.userForm.controls.username.valid&&(n.userForm.controls.username.touched||n.userForm.controls.username.dirty)),e.xp6(6),e.Q6J("ngIf",!n.userForm.controls.emailname.valid&&(n.userForm.controls.emailname.touched||n.userForm.controls.emailname.dirty)),e.xp6(7),e.Q6J("ngIf",!n.userForm.controls.phonenumber.valid&&(n.userForm.controls.phonenumber.touched||n.userForm.controls.phonenumber.dirty)),e.xp6(5),e.Q6J("options",n.roles),e.xp6(1),e.Q6J("ngIf",!n.userForm.controls.roleassigned.valid&&(n.userForm.controls.roleassigned.touched||n.userForm.controls.roleassigned.dirty)),e.xp6(1),e.Q6J("disabled",!n.userForm.valid))},directives:[p._Y,p.JL,p.sg,C.a8,C.n5,p.Fj,p.JJ,p.u,u.O5,N.Lt],styles:[""]}),i})();function B(i,r){if(1&i&&e._UZ(0,"img",6),2&i){const t=e.oxw(2);e.Q6J("src",t.image,e.LSH)}}function K(i,r){if(1&i&&e._UZ(0,"span",8),2&i){const t=e.oxw(3);e.Tol(t.icon),e.Q6J("ngClass","p-chip-icon")}}function Y(i,r){if(1&i&&e.YNc(0,K,1,3,"span",7),2&i){const t=e.oxw(2);e.Q6J("ngIf",t.icon)}}function W(i,r){if(1&i&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.label)}}function G(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",10),e.NdJ("click",function(s){return e.CHM(t),e.oxw(2).close(s)})("keydown.enter",function(s){return e.CHM(t),e.oxw(2).close(s)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Tol(t.removeIcon),e.Q6J("ngClass","pi-chip-remove-icon")}}function X(i,r){if(1&i&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,B,1,1,"img",2),e.YNc(3,Y,1,1,"ng-template",null,3,e.W1O),e.YNc(5,W,2,1,"div",4),e.YNc(6,G,1,3,"span",5),e.qZA()),2&i){const t=e.MAs(4),n=e.oxw();e.Tol(n.styleClass),e.Q6J("ngClass",n.containerClass())("ngStyle",n.style),e.xp6(2),e.Q6J("ngIf",n.image)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",n.label),e.xp6(1),e.Q6J("ngIf",n.removable)}}const ee=["*"];let A=(()=>{class i{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new e.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(t){this.visible=!1,this.onRemove.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove"},ngContentSelectors:ee,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(t,n){1&t&&(e.F$t(),e.YNc(0,X,7,8,"div",0)),2&t&&e.Q6J("ngIf",n.visible)},directives:[u.O5,u.mk,u.PC],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),i})(),te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez]]}),i})();var S=c(2181),D=c(3874);function ie(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"mat-card"),e.TgZ(2,"mat-card-title"),e.TgZ(3,"div",6),e.TgZ(4,"h6",7),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"div",8),e.TgZ(8,"div",9),e.TgZ(9,"div",10),e._uU(10,"Query Requestor"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"div",10),e._uU(15,"Requestor Email"),e.qZA(),e._uU(16," :\xa0 \xa0"),e.TgZ(17,"div",12),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"div",13),e.TgZ(20,"label",14),e._uU(21,"Query Content"),e.qZA(),e._uU(22," :\xa0 \xa0"),e.TgZ(23,"div",15),e._uU(24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",16),e._UZ(26,"div",17),e.qZA(),e.TgZ(27,"div",18),e.TgZ(28,"div",9),e.TgZ(29,"div",10),e._uU(30,"Status"),e.qZA(),e.TgZ(31,"div"),e._uU(32,":\xa0 \xa0"),e.TgZ(33,"p-chip",19),e.TgZ(34,"div",20),e._uU(35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"button",21),e.TgZ(37,"mat-icon"),e._uU(38,"more_vert"),e.qZA(),e.qZA(),e.TgZ(39,"mat-menu",null,22),e.TgZ(41,"button",23),e.NdJ("click",function(){const o=e.CHM(t).index;return e.oxw().markResolved(o)}),e.TgZ(42,"mat-icon",24),e._uU(43," task_alt "),e.qZA(),e.TgZ(44,"span"),e._uU(45,"Mark as resolved"),e.qZA(),e.qZA(),e.TgZ(46,"button",23),e.NdJ("click",function(){const o=e.CHM(t).index;return e.oxw().revertQueryStatus(o)}),e.TgZ(47,"mat-icon",24),e._uU(48,"undo"),e.qZA(),e.TgZ(49,"span"),e._uU(50,"Revert Query Status"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",13),e.TgZ(52,"label",14),e._uU(53,"Allotted User"),e.qZA(),e._uU(54," :\xa0 \xa0"),e.TgZ(55,"div",25),e._uU(56),e.qZA(),e.qZA(),e.TgZ(57,"div",13),e.TgZ(58,"label",14),e._uU(59,"Applied Date"),e.qZA(),e._uU(60," :\xa0 \xa0"),e.TgZ(61,"div",25),e._uU(62),e.qZA(),e.qZA(),e.TgZ(63,"div",13),e.TgZ(64,"label",14),e._uU(65,"Completed Date"),e.qZA(),e._uU(66," :\xa0 \xa0"),e.TgZ(67,"div",25),e._uU(68),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit,n=r.index,s=e.MAs(40),o=e.oxw();e.xp6(5),e.hij("Query Id: ",null==t?null:t.queryid,""),e.xp6(7),e.hij(":\xa0 \xa0",null==t?null:t.requestorName,""),e.xp6(6),e.Oqu(null==t?null:t.requestorEmail),e.xp6(6),e.hij(" ",null==t?null:t.content," "),e.xp6(9),e.Q6J("styleClass",o.queryList[n].status),e.xp6(2),e.Oqu(null==t?null:t.status),e.xp6(1),e.Q6J("matMenuTriggerFor",s),e.xp6(5),e.Q6J("disabled","resolved"==(null==o.queryList[n]?null:o.queryList[n].status)),e.xp6(5),e.Q6J("disabled","pending"==(null==o.queryList[n]?null:o.queryList[n].status)),e.xp6(10),e.hij(" ",null==t?null:t.user," "),e.xp6(6),e.hij(" ",null==t?null:t.appliedDate," "),e.xp6(6),e.hij(" ",null==t?null:t.resolvedDate," ")}}let ne=(()=>{class i{constructor(t,n,s,o){this.userService=t,this.toastr=n,this.ref=s,this.ngxLoader=o,this.queryList=[],this.getQueryList()}get cssStringVar(){return document.querySelector(".cdk-overlay-container")?"noscroll":""}ngOnInit(){this.sidebarSpacing="contracted"}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}receiveIndex(t){this.index=t,console.log(this.index)}getQueryList(){this.userService.getQueryList().subscribe(t=>{this.queryList=t,console.log(this.queryList)})}markResolved(t){this.ngxLoader.start(),this.userService.resolveQuery(this.queryList[t].queryid).subscribe(n=>{n&&(this.toastr.showSuccess("Query resolved successfully","Query resolved"),this.ngxLoader.stop())})}revertQueryStatus(t){this.ngxLoader.start(),this.userService.revertQuery(this.queryList[t].queryid).subscribe(n=>{n&&(this.toastr.showSuccess("Query reverted successfully","Query reversed"),this.ngxLoader.stop())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(T),e.Y36(I.$),e.Y36(e.sBO),e.Y36(d.LA))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-query-content"]],decls:6,vars:1,consts:[[1,"card","col-sm-12"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12",2,"background-color","#cccfcd","height","100%"],[2,"color","#283048","padding-top","20px"],["class","card-body",4,"ngFor","ngForOf"],[1,"card-body"],[1,"page-heading"],[1,"mb-0"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6"],[1,"form-group","pt-3",2,"display","flex","align-items","center"],[2,"width","30%"],[1,"form-group",2,"display","flex","align-items","center"],[2,"width","60%"],[1,"form-group",2,"display","flex"],["for","name",2,"width","30%"],["id","name",2,"width","70%"],[2,"display","flex","justify-content","center","align-items","center","margin-right","3rem"],[2,"display","flex","border-left","1px solid rgb(190, 189, 189)","height","80%"],[1,"col-xl-5","col-lg-5","col-md-5","col-sm-6"],[3,"styleClass"],[1,"px-2"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu",""],["mat-menu-item","",3,"disabled","click"],["color","basic"],["id","name",2,"width","60%"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h4",3),e._uU(4,"Query "),e.qZA(),e.YNc(5,ie,69,12,"div",4),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngForOf",n.queryList))},directives:[u.sg,C.a8,C.n5,A,S.p6,D.Hw,S.VK,S.OP],styles:["[_nghost-%COMP%]     .p-chip.resolved{background:#b7e276;color:#34441e}[_nghost-%COMP%]     .p-chip.pending{background:#f7704e;color:#fff}button.mat-menu-trigger[_ngcontent-%COMP%]{background-color:#fff;border:none;outline:none}button.mat-menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-top:25%;color:gray}button.mat-menu-item[_ngcontent-%COMP%]{outline:none}  .cdk-overlay-container{z-index:0}button.mat-menu-trigger[_ngcontent-%COMP%]:focus{border:none;outline:none}"]}),i})();var q=c(4851),w=c(9783),E=c(1424),k=c(845),v=c(4119);const re=["dt"];function se(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"span",11),e._UZ(2,"i",12),e.TgZ(3,"input",13),e.NdJ("input",function(s){return e.CHM(t),e.oxw().applyFilterGlobal(s,"contains")}),e.qZA(),e.qZA(),e.qZA()}}function oe(i,r){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.headers)}}function le(i,r){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,oe,2,1,"th",14),e.TgZ(2,"th"),e._uU(3,"Options"),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const ae=function(){return["/user/querycontent"]},ce=function(i){return{queryid:i}};function ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"p-chip",15),e.TgZ(11,"div",16),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"div",17),e.TgZ(15,"button",18),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().markResolved(o)}),e.qZA(),e._UZ(16,"button",19),e.TgZ(17,"button",20),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().revertQueryStatus(o)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.queryid),e.xp6(2),e.Oqu(t.user),e.xp6(2),e.Oqu(t.appliedDate),e.xp6(2),e.Oqu(t.resolvedDate),e.xp6(2),e.Q6J("styleClass",t.status),e.xp6(2),e.Oqu(t.status),e.xp6(3),e.Q6J("disabled","resolved"==(null==t?null:t.status)),e.xp6(1),e.Q6J("routerLink",e.DdM(10,ae))("queryParams",e.VKq(11,ce,null==t?null:t.queryid)),e.xp6(1),e.Q6J("disabled","pending"==(null==t?null:t.status))}}function pe(i,r){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",21),e._uU(2," No Records Found. "),e.qZA(),e.qZA())}const me=function(){return["user"]};let de=(()=>{class i{constructor(t,n,s){this.ngxLoader=t,this.UserService=n,this.toastr=s,this.queryList=[],this.userStatus=!1}ngOnInit(){this.fgsType=d.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="contracted",this.cols=[{field:"queryid",show:!0,headers:"QueryId"},{field:"user",show:!0,headers:"Allotted User"},{field:"appliedDate",show:!0,headers:"Applied Date"},{field:"resolvedDate",show:!0,headers:"Completed Date"},{field:"status",show:!0,headers:"Status"}],this.getQueryList()}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}getQueryList(){this.UserService.getQueryList().subscribe(t=>{this.queryList=t,console.log(this.queryList),this.ngxLoader.stop()})}markResolved(t){this.ngxLoader.start(),this.UserService.resolveQuery(t.queryid).subscribe(n=>{n&&(this.toastr.showSuccess("Query resolved successfully","Query resolved"),this.ngxLoader.stop())})}revertQueryStatus(t){this.ngxLoader.start(),this.UserService.revertQuery(t.queryid).subscribe(n=>{n&&(this.toastr.showSuccess("Query reverted successfully","Query reversed"),this.ngxLoader.stop())})}applyFilterGlobal(t,n){this.dt.filterGlobal(t.target.value,n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.LA),e.Y36(T),e.Y36(I.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-query-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(re,5),2&t){let s;e.iGM(s=e.CRH())&&(n.dt=s.first)}},decls:11,vars:10,consts:[[1,"page-heading"],[1,"header-text-title",2,"margin-left","1%"],[1,"card","col-sm-12",2,"border","none"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],[1,"row"],[1,"p-input-icon-right","ml-5"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword","placeholder","Search by user",3,"input"],[4,"ngFor","ngForOf"],[3,"styleClass"],[1,"px-2"],["id","btn-grp",1,"btn-grp"],["pButton","","type","button","icon","pi pi-check-square","pTooltip","Mark as resolved","tooltipPosition","bottom",1,"p-button-secondary",2,"margin-right","5px",3,"disabled","click"],["pButton","","type","button","icon","pi pi-eye","pTooltip","Show Query","tooltipPosition","bottom",1,"p-button-success",2,"margin-right","5px","background-color","rgb(10, 140, 150)",3,"routerLink","queryParams"],["pButton","","type","button","icon","pi pi-backward","pTooltip","Revert Query Status","tooltipPosition","bottom",2,"margin-right","5px","background-color","rgb(99, 33, 160)",3,"disabled","click"],["colspan","10",1,"text-center","text-danger","font-weight-700"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Query"),e.qZA(),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"p-table",3,4),e.YNc(6,se,4,0,"ng-template",5),e.YNc(7,le,4,1,"ng-template",6),e.YNc(8,ue,18,13,"ng-template",7),e.YNc(9,pe,3,0,"ng-template",8),e.qZA(),e._UZ(10,"ngx-ui-loader",9),e.qZA()),2&t&&(e.xp6(4),e.Q6J("columns",n.cols)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("value",n.queryList)("responsive",!0)("globalFilterFields",e.DdM(9,me)),e.xp6(6),e.Q6J("fgsColor","#000000")("fgsType",n.fgsType))},directives:[q.iA,w.jx,E.o,u.sg,A,k.Hq,v.u,m.rH,d.Eo],styles:["th[_ngcontent-%COMP%]{background-color:#285d91!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:center!important;font-size:200!important}.btn-grp[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]     .p-chip.resolved{background:#b7e276;color:#34441e}[_nghost-%COMP%]     .p-chip.pending{background:#f7704e;color:#fff}"]}),i})();var he=c(2888);const _e=["dt"],O=function(){return["/user/createuser"]};function ge(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"span",11),e._UZ(2,"i",12),e.TgZ(3,"input",13),e.NdJ("input",function(s){return e.CHM(t),e.oxw().applyFilterGlobal(s,"contains")}),e.qZA(),e.qZA(),e.TgZ(4,"span",11),e._UZ(5,"button",14),e.qZA(),e.qZA()}2&i&&(e.xp6(5),e.Q6J("routerLink",e.DdM(1,O)))}function fe(i,r){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.headers)}}function ve(i,r){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,fe,2,1,"th",15),e.TgZ(2,"th"),e._uU(3,"Options"),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const xe=function(i){return{userid:i}};function ye(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"div",16),e._UZ(15,"button",17),e.TgZ(16,"button",18),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().retrieveUserDetails(o)}),e.qZA(),e.TgZ(17,"button",19),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().deleteUserDetails(o)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.email," "),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.role),e.xp6(2),e.Oqu(t.status),e.xp6(3),e.Q6J("routerLink",e.DdM(11,O))("disabled",!(null!=t&&t.status)||n.accessPermission.edit)("queryParams",e.VKq(12,xe,null==t?null:t.id)),e.xp6(1),e.Q6J("disabled",null==t?null:t.status),e.xp6(1),e.Q6J("disabled",!(null!=t&&t.status)||n.accessPermission.delete)}}function be(i,r){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",20),e._uU(2," No Records Found. "),e.qZA(),e.qZA())}const Ce=function(){return["name"]},Te=[{path:"userlist",component:(()=>{class i{constructor(t,n,s,o){this.ngxLoader=t,this.UserService=n,this.toastr=s,this.permissionService=o,this.userList=[],this.userStatus=!1,this.permissionService.getModulePermission().subscribe(l=>{this.accessPermission=l[0].UserList,console.log(this.accessPermission)})}ngOnInit(){this.fgsType=d.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="contracted",this.cols=[{field:"id",show:!0,headers:"Id"},{field:"name",show:!0,headers:"UserName"},{field:"email",show:!0,headers:"Email"},{field:"phone",show:!0,headers:"Phone"},{field:"role",show:!0,headers:"Role"},{field:"status",show:!0,headers:"Status"}],this.getUserList()}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}getUserList(){this.UserService.getUserList().subscribe(t=>{this.userList=t,console.log(this.userList),this.ngxLoader.stop()})}retrieveUserDetails(t){this.ngxLoader.start(),this.UserService.retrieveUser(t.id).subscribe(n=>{n&&(this.toastr.showSuccess("User retrieved successfully","User retrieved"),this.ngxLoader.stop())})}deleteUserDetails(t){console.log(t),this.ngxLoader.start(),this.UserService.deleteUser(t.id).subscribe(n=>{n&&(this.toastr.showSuccess("User deleted successfully","User deleted"),this.getUserList())})}applyFilterGlobal(t,n){this.dt.filterGlobal(t.target.value,n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.LA),e.Y36(T),e.Y36(I.$),e.Y36(he.y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(_e,5),2&t){let s;e.iGM(s=e.CRH())&&(n.dt=s.first)}},decls:11,vars:10,consts:[[1,"page-heading"],[1,"header-text-title",2,"margin-left","1%"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","showCurrentPageReport","value","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],[1,"row"],[1,"p-input-icon-right","ml-5"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword","placeholder","Search by user name",3,"input"],["pButton","","type","button","label","Create User",1,"p-button-success",3,"routerLink"],[4,"ngFor","ngForOf"],["id","btn-grp",1,"btn-grp"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit User","tooltipPosition","bottom",1,"p-button-secondary",2,"margin-right","5px",3,"routerLink","disabled","queryParams"],["pButton","","type","button","icon","pi pi-undo","pTooltip","Retrieve User","tooltipPosition","bottom",1,"p-button-info",2,"margin-right","5px",3,"disabled","click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete User","tooltipPosition","bottom",1,"p-button-danger",2,"margin-right","5px",3,"disabled","click"],["colspan","10",1,"text-center","text-danger","font-weight-700"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"User"),e.qZA(),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"p-table",3,4),e.YNc(6,ge,6,2,"ng-template",5),e.YNc(7,ve,4,1,"ng-template",6),e.YNc(8,ye,18,14,"ng-template",7),e.YNc(9,be,3,0,"ng-template",8),e.qZA(),e._UZ(10,"ngx-ui-loader",9),e.qZA()),2&t&&(e.xp6(4),e.Q6J("columns",n.cols)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("value",n.userList)("responsive",!0)("globalFilterFields",e.DdM(9,Ce)),e.xp6(6),e.Q6J("fgsColor","#000000")("fgsType",n.fgsType))},directives:[q.iA,w.jx,E.o,k.Hq,m.rH,u.sg,v.u,d.Eo],styles:["th[_ngcontent-%COMP%]{background-color:#285d91!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:center!important;font-size:200!important}.btn-grp[_ngcontent-%COMP%]{display:flex}"]}),i})()},{path:"createuser",component:j},{path:"querylist",component:de},{path:"querycontent",component:ne}];let Ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Te)]]}),i})(),Se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez]]}),i})();var L=c(5787);let Ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[w.Lk],imports:[[u.ez,m.Bz,L.T,v.z],m.Bz,v.z]}),i})(),F=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,m.Bz,L.T,v.z],m.Bz,v.z]}),i})(),ct=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,k.hJ,F],k.hJ,F]}),i})(),qt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,m.Bz,L.T,v.z],m.Bz,v.z]}),i})();var Et=c(1125);let Ot=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Q.m,Ie,u.ez,C.QW,P.O,d.Js,te,Se,Ne,ct,qt,Et.To,S.Tx,D.Ps]]}),i})()}}]);